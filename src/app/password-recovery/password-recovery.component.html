<div class="card flex justify-center">
  <p-stepper [value]="1" class="basis-[50rem]">
    <p-step-list>
      <p-step [value]="1">Validar Correo</p-step>
      <p-step [value]="2">Verificación de Código</p-step>
      <p-step [value]="3">Cambiar Contraseña</p-step>
    </p-step-list>
    <p-step-panels>
      <p-step-panel [value]="1">
        <ng-template #content let-activateCallback="activateCallback">
          <div class="flex flex-col min-h-48">
            <div class="flex items-center gap-3 mb-6">
              <div
                class="w-12 h-12 rounded-full bg-primary-50 flex items-center justify-center"
              >
                <i class="pi pi-envelope text-xl text-primary-500"></i>
              </div>
              <div>
                <h2 class="text-lg font-semibold text-gray-900">
                  Recupera tu contraseña
                </h2>
                <p class="text-sm text-gray-600">
                  Ingresa tu correo electrónico para comenzar
                </p>
              </div>
            </div>

            <div class="w-full flex flex-col items-center gap-2 pt-8 py-4">
              <div class="max-w-96 w-auto">
                <app-input-form
                  label="Correo Electrónico"
                  placeholder="ejemplo@correo.com"
                  [required]="true"
                  pTooltip="Ingresa el correo asociado a tu cuenta"
                />

                <div class="p-4 flex items-start gap-2">
                  <i class="pi pi-info-circle text-blue-500 mt-0.5 mr-3"></i>
                  <p class="text-sm text-blue-700">
                    Te enviaremos un código de verificación a tu correo
                    electrónico.
                  </p>
                </div>
              </div>
            </div>
            <div class="flex pt-6 justify-end">
              <p-button
                label="Enviar"
                icon="pi pi-envelope"
                iconPos="right"
                (onClick)="activateCallback(2)"
              />
            </div>
          </div>
        </ng-template>
      </p-step-panel>

      <p-step-panel [value]="2">
        <ng-template #content let-activateCallback="activateCallback">
          <div class="bg-white rounded-lg p-6 shadow-sm">
            <div class="flex items-center gap-3 mb-6">
              <div
                class="w-12 h-12 rounded-full bg-primary-50 flex items-center justify-center"
              >
                <i class="pi pi-key text-xl text-primary-500"></i>
              </div>
              <div>
                <h2 class="text-lg font-semibold text-gray-900">
                  Código de verificación
                </h2>
                <p class="text-sm text-gray-600">
                  Ingresa el código enviado a tu correo
                </p>
              </div>
            </div>

            <div class="space-y-4">
              <div class="flex justify-center py-4">
                <p-inputOtp
                  [length]="6"
                  [integerOnly]="true"
                  class="text-2xl"
                  pTooltip="Ingresa los 6 dígitos del código"
                />
              </div>

              <div class="text-center">
                <p class="text-sm text-gray-500 mb-2">
                  ¿No recibiste el código?
                </p>
                <button
                  class="text-primary-500 hover:text-primary-600 text-sm font-medium"
                >
                  Reenviar código
                </button>
              </div>

              <div class="flex justify-between items-center pt-4">
                <p-button
                  label="Regresar"
                  icon="pi pi-arrow-left"
                  iconPos="right"
                  (onClick)="activateCallback(1)"
                />
                <p-button
                  icon="pi pi-check-circle"
                  label="Verificar"
                  iconPos="right"
                  (onClick)="activateCallback(3)"
                />
              </div>
            </div>
          </div>
        </ng-template>
      </p-step-panel>

      <p-step-panel [value]="3">
        <ng-template #content let-activateCallback="activateCallback">
          <!-- Header con icono -->
          <div class="flex items-center gap-4 pb-8">
            <div
              class="w-12 h-12 rounded-full bg-primary-50 flex items-center justify-center"
            >
              <i class="pi pi-lock text-xl text-primary-500"></i>
            </div>
            <div>
              <h2 class="text-lg font-semibold text-gray-900">
                Nueva contraseña
              </h2>
              <p class="text-sm text-gray-600">
                Establece una contraseña segura
              </p>
            </div>
          </div>

          <!-- Formulario centrado con ancho máximo -->
          <div class="flex justify-center">
            <div class="max-w-96 w-full flex flex-col gap-4">
              <!-- Campos de contraseña -->
              <app-input-form
                label="Número de DNI"
                [required]="true"
                valueInput="'gaaa'"
              />
              <app-password
                label="Nueva contraseña"
                pTooltip="Mínimo 8 caracteres"
                placeholder="••••••••"
              />

              <app-password
                label="Confirmar contraseña"
                pTooltip="Repite tu nueva contraseña"
                placeholder="••••••••"
              />

              <!-- Requisitos de contraseña -->
              <div class="bg-gray-50 p-4 rounded-lg">
                <h4 class="text-sm font-medium text-gray-900 mb-2">
                  Requisitos:
                </h4>
                <ul class="space-y-1">
                  <li class="text-sm text-gray-600 flex items-center">
                    <i class="pi pi-check text-green-500 mr-2"></i>
                    Mínimo 8 caracteres
                  </li>
                  <li class="text-sm text-gray-600 flex items-center">
                    <i class="pi pi-check text-green-500 mr-2"></i>
                    Al menos una mayúscula
                  </li>
                  <li class="text-sm text-gray-600 flex items-center">
                    <i class="pi pi-check text-green-500 mr-2"></i>
                    Al menos un número
                  </li>
                </ul>
              </div>
            </div>
          </div>

          <div class="flex pt-6 justify-end">
            <p-button
              label="Guardar"
              icon="pi pi-lock"
              iconPos="right"
              (onClick)="activateCallback(2)"
            />
          </div>
        </ng-template>
      </p-step-panel>
    </p-step-panels>
  </p-stepper>
</div>
