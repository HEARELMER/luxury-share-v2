<div class="w-full flex flex-col gap-1.5">
  <div class="flex">
    <label
      class="text-sm font-medium text-gray-700 dark:text-gray-300 mb-1.5 block"
    >
      {{ label() }}
      @if(!required()){
      <span class="text-gray-500 dark:text-gray-400">(opcional)</span>
      }
    </label>
  </div>

  <div class="relative w-full">
    <select
      [(ngModel)]="value"
      (change)="onSelect($event)"
      (blur)="onTouched()"
      [required]="required()"
      [disabled]="disabled()"
      class="w-full px-4 py-2.5 rounded-lg border border-gray-300 dark:border-gray-600 bg-white dark:bg-gray-700 text-gray-900 dark:text-gray-100 text-sm focus:outline-none focus:ring-2 focus:ring-primary-500/20 dark:focus:ring-primary-dark-500/40 focus:border-primary-500 dark:focus:border-primary-dark-500 disabled:opacity-50 disabled:pointer-events-none appearance-none transition-colors duration-200"
    >
      <option value="" disabled selected>{{ placeholder() }}</option>
      @for(option of options(); track option.value) {
      <option [value]="option.value">{{ option.label }}</option>
      }
    </select>

    <div
      class="pointer-events-none absolute inset-y-0 right-0 flex items-center px-2"
    >
      <svg
        class="h-4 w-4 fill-gray-400 dark:fill-gray-500"
        xmlns="http://www.w3.org/2000/svg"
        viewBox="0 0 20 20"
      >
        <path
          fill-rule="evenodd"
          d="M5.293 7.293a1 1 0 011.414 0L10 10.586l3.293-3.293a1 1 0 111.414 1.414l-4 4a1 1 0 01-1.414 0l-4-4a1 1 0 010-1.414z"
          clip-rule="evenodd"
        />
      </svg>
    </div>

    @if(showError() && !errorType() ){
    <div class="text-sm text-red-500 dark:text-red-400 mt-1">
      {{ errorMessage() }}
    </div>
    }
    <div class="text-sm text-red-500 dark:text-red-400 mt-1">
      {{ errorType() }}
    </div>
  </div>
</div>
